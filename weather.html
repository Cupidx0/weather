<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="refresh" content="70">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <script src="https://kit.fontawesome.com/0c67618d33.js" crossorigin="anonymous"></script>
    <title>Document</title>
</head>
<body>
    <h1>weather</h1>
    <div class="weather">
        <h1>weather</h1>
        <input type="text" id="city-input" placeholder="enter city name"><button id="city-input-btn">Get Weather</button>
        <script src="java.js"></script>
        <p id="h1"></p>
                   <br />
        <h1 id="weather-icon"></h1>
        <h1 id="temp">20</h1>
        <p id="description"></p>
        <p id="city-name">crawley</p>
        <p id="feels-like">feels sunny</p>
            <div class="temp">
                <div class="temperature">
                    <h1><span class="material-symbols-outlined">
                        water
                    </span></h1>
                    <p id="humidity"></p>
                </div>
                <div class="wind-speed">
                    <h1><span class="material-symbols-outlined">
                        air
                    </span></h1>
                    <p id="wind-speed"></p>
                </div>
            </div>
        </div>
    </div>
    <div class="stock">
        <h1>Stocks</h1>
        <div class="stocks">
            <p id="h2"></p>
            <script src="java.js"></script>
            <br>
        </div>
    </div>
</div>
</div>
<script>
 const apiKey = `0b55bb5a11fac5228bf4200c0314cd31`;
    async function getWeather(city) {
        const apiUrl = `https://api.openweathermap.org/data/2.5/weather?units=metric&q=${city}&appid=${apiKey}`;
        const response = await fetch(apiUrl);
        const data = await response.json();
        console.log(data);
            document.getElementById('city-name').innerText = data.name;
            document.getElementById('temp').innerText = Math.round(data.main.temp) + `°C`;
            document.getElementById('feels-like').innerText = `Feels like ` + Math.round(data.main.feels_like) + `°C`;
            document.getElementById('description').innerText = data.weather[0].description;
            document.getElementById('wind-speed').innerText = `${data.wind.speed}m/s`;
            document.getElementById('humidity').innerText = `${data.main.humidity}%`;
            document.getElementById('weather-icon').className = `fa-sharp fa-solid ${getWeatherIcon(data.weather[0].icon)} fa-9x`;
            document.getElementById('weather-icon').style.color = getWeatherIconColor(data.weather[0].icon);
}

function getWeatherIcon(iconCode) {
    const iconMap = {
        '01d': ' fa-sun',
        '01n': 'fa-moon',
        '02d': 'fa-cloud-sun',
        '02n': 'fa-cloud-moon',
        '03d': 'fa-cloud',
        '03n': 'fa-cloud',
        '04d': 'fa-cloud',
        '04n': 'fa-cloud',
        '09d': 'fa-cloud-showers-heavy',
        '09n': 'fa-cloud-showers-heavy',
        '10d': 'fa-cloud-sun-rain',
        '10n': 'fa-cloud-moon-rain',
        '11d': 'fa-bolt',
        '11n': 'fa-bolt',
        '13d': 'fa-snowflake',
        '13n': 'fa-snowflake',
        '50d': 'fa-smog',
        '50n': 'fa-smog'
    };
    return iconMap[iconCode] || 'fa-sun';
}
function getWeatherIconColor(iconCode) {
    const colorMap = {
        '01d': '#FFF700', 
        '01n': '#FFFFFF', 
        '02d': '#87CEEB', 
        '02n': '#4682B4', 
        '03d': '#B0C4DE', 
        '03n': '#B0C4DE', 
        '04d': '#B0C4DE', 
        '04n': '#B0C4DE', 
        '09d': '#00BFFF',
        '09n': '#00BFFF', 
        '10d': '#1E90FF', 
        '10n': '#6495ED', 
        '11d': '#FFD700', 
        '11n': '#FFD700', 
        '13d': '#00FFFF', 
        '13n': '#00FFFF', 
        '50d': '#A9A9A9', 
        '50n': '#A9A9A9'  
    };
    return colorMap[iconCode] || '#FFF700'; 
}
document.getElementById('city-input-btn').addEventListener('click',()=> {const city = document.getElementById('city-input').value || 'Crawley';
getWeather(city);});
getWeather ('crawley') ;
</script>
</body>
</html>